(()=>{"use strict";var e=function(e){return e.substring(1,e.length-1)},t=function(e,t){var n=!1;return function(){if(!n){var r=this,a=arguments;n=!0,setTimeout((function(){e.apply(r,a),n=!1}),t)}}},n=function(){return window.pageYOffset||document.documentElement.scrollTop};function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,o;return n=t,o=[{key:"getInputs",value:function(e){return function(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.querySelectorAll(w.formElements.input))}},{key:"isValid",value:function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=t.getInputs(n),o=!0;return a.forEach((function(n){var a=n.getAttribute(e(w.formElements.input)),i=(t.patterns.has(a)?t.patterns.get(a):t.patterns.get(""))(n);r&&t.setInputState(n,i),i||(o=!1)})),o}},{key:"setInputState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?e.classList.remove(w.stateClasses.invalid):e.classList.add(w.stateClasses.invalid)}},{key:"isValidateEmpty",value:function(e){return!!e.value.trim().length}},{key:"isValidateEmail",value:function(e){return t.expression.email.test(e.value)}},{key:"isValidateName",value:function(e){return t.expression.name.test(e.value)&&e.value.length>1&&e.value.length<20}}],null&&a(n.prototype,null),o&&a(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o(i,"expression",{email:/^[-a-z0-9!#$%&'*+/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+/=?^_`{|}~]+)*@([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\.)*(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|[a-z][a-z])$/,name:/^[A-Za-z0-9]+$/}),o(i,"patterns",new Map([["",function(e){return i.isValidateEmpty(e)}],["email",function(e){return i.isValidateEmail(e)}],["name",function(e){return i.isValidateName(e)}],["message",function(e){return e.value.length<12}]]));var c="[data-js-modal-open-button]",s=document.body,d=document.querySelector("[data-js-header-top]"),f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindEvents()}var t,n,r;return t=e,r=[{key:"closeLastModal",value:function(){var e=function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(document.querySelectorAll(".active-modal")).at(-1);e&&(e.classList.remove("active-modal"),s.classList.remove("compensation-padd"),d.classList.add("header__top--fixed"),s.classList.remove("lock"))}}],(n=[{key:"handleOpenButtonClick",value:function(e){e.preventDefault();var t=function(e,t){var n=t.substring(1,t.length-1),r=e.getAttribute(n),a={};try{a=JSON.parse(r)}catch(e){console.debug(e)}return a}(e.target,c).src;if(!t)return console.debug("Selector is not found data-js attribute of element:"),void console.debug(e.targret);var n=document.querySelector(t);n?(n.classList.add("active-modal"),d.classList.remove("header__top--fixed"),s.classList.add("compensation-padd"),s.classList.add("lock")):console.debug("Modal element by `${src}` selector is not found")}},{key:"handleCloseButtonClick",value:function(t){t.preventDefault(),e.closeLastModal()}},{key:"handleClick",value:function(e){var t=e.target,n=function(e){return t.matches(e)};switch(!0){case n(c):this.handleOpenButtonClick(e);break;case n("[data-js-modal-close-button]"):case n("[data-js-modal]"):this.handleCloseButtonClick(e)}}},{key:"bindEvents",value:function(){var t=this;document.addEventListener("click",(function(e){t.handleClick(e)})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(t.preventDefault(),e.closeLastModal())}))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,a;return t=e,null,n=[{key:"send",value:(r=regeneratorRuntime.mark((function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.action,r=void 0===n?window.location.href:n,a=t.method,o=void 0===a?"GET":a,i=new FormData(t),console.debug(m(i)),e.next=5,fetch(r,{method:o,body:"POST"===o?i:null}).then((function(e){return Promise.resolve(e.json())}),(function(e){return console.debug(e),Promise.reject(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){y(o,n,a,i,l,"next",e)}function l(e){y(o,n,a,i,l,"throw",e)}i(void 0)}))},function(e){return a.apply(this,arguments)})},{key:"onSuccess",value:function(e){console.debug(e),f.closeLastModal(),document.body.classList.add("lock"),document.querySelector('[data-js-modal="send-sucess"]').classList.add("active-modal")}},{key:"onError",value:function(){f.closeLastModal(),document.body.classList.add("lock"),document.querySelector('[data-js-modal="send-error"]').classList.add("active-modal")}}],n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindEvents()}var t,n;return t=e,(n=[{key:"handleSubmit",value:function(t){var n=t.target;n.matches(e.instance)&&(t.preventDefault(),i.isValid(n)&&(b.send(n).then((function(e){return b.onSuccess(e)}),(function(e){return b.onError(e)})),n.reset()))}},{key:"bindEvents",value:function(){var e=this;document.addEventListener("submit",(function(t){e.handleSubmit(t)}))}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}g(w,"instance","[data-js-form]"),g(w,"formElements",{input:"[data-js-input-required]"}),g(w,"stateClasses",{invalid:"is-invalid"});var k="[data-js-menu-button]",j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindEvents()}var r,a;return r=e,a=[{key:"toggleMenu",value:function(){var e=document.querySelector("[data-js-menu]"),t="menu--active";e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}},{key:"transformation",value:function(){var e=document.querySelector("[data-js-header-top]"),t=document.querySelector(k),r=n();r>200?(e.classList.add("bg--gray-blue"),t.classList.add("bg--gray-blue"),e.classList.add("header__top--is-scrolled")):r<200&&(e.classList.remove("bg--gray-blue"),t.classList.remove("bg--gray-blue"),e.classList.remove("header__top--is-scrolled"))}},{key:"handleClick",value:function(e){var t=e.target;!0===(k,t.matches("[data-js-menu-button]"))&&this.toggleMenu()}},{key:"bindEvents",value:function(){var e=this;document.addEventListener("click",(function(t){e.handleClick(t)})),window.onscroll=t(this.transformation,300)}}],a&&A(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E,O,C,I=function(e){if(Array.isArray(e))return L(e)}(E=document.querySelectorAll("[data-js-anim-items]"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindEvents()}var r,a;return r=e,(a=[{key:"animOnScroll",value:function(){I.length<=0||I.map((function(e){var t,r,a,o=e.offsetHeight,i=(t=e,r=t.getBoundingClientRect(),a=n(),{top:r.top+a}).top,l=window.innerHeight-o/8;o>window.innerHeight&&(l=window.innerHeight-window.innerHeight/8);var u="_active";scrollY>i-l&&scrollY<i+o?e.classList.add(u):e.classList.remove(u)}))}},{key:"bindEvents",value:function(){this.animOnScroll(),window.addEventListener("scroll",t(this.animOnScroll,200))}}])&&S(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),e}();O=function(e){var t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)},(C=new Image).onload=C.onerror=function(){O(2==C.height)},C.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",document.addEventListener("DOMContentLoaded",(function(){new f,new w,new j,new P}))})();